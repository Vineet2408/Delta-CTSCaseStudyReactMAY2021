{"ast":null,"code":"var _jsxFileName = \"G:\\\\ProjectWork\\\\Cognizant\\\\DeltaLearning\\\\ReactCaseStudyMay2021\\\\bms\\\\src\\\\containers\\\\PersonalLoan.js\";\nimport { connect } from 'react-redux';\nimport { addLoan } from '../store/services/userService';\nimport React, { Component } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass PersonalLoan extends Component {\n  constructor() {\n    super();\n\n    this.submitHandler = async e => {\n      e.preventDefault();\n      let loan = this.props.loan; //send by parent component\n\n      loan.totalExp = this.totalExp.value;\n      loan.annualIncome = this.annualIncome.value;\n      loan.companyName = this.companyName;\n      loan.designation = this.designation;\n      loan.expInCur = this.expInCur;\n      loan.email = this.props.state.users.loggedInUser.email;\n      let accountNo;\n\n      for (let i = 0; i < this.props.state.users.users.length; i++) {\n        if (this.props.state.users.users[i].email === this.props.state.users.loggedInUser.email) {\n          accountNo = this.props.state.users.users[i].accountNo;\n          break;\n        }\n      }\n\n      loan.accountNo = accountNo;\n      console.log('loan := ', loan);\n      this.setState({ ...this.state,\n        pLoan: loan,\n        isFormValid: true\n      }); //await this.props.dispatch(addLoan(loan, \"\"));\n      //this.props.history.push('/profile');\n    };\n\n    this.state = {\n      isFormValid: false,\n      pLoan: {}\n    };\n  }\n\n  shouldComponentUpdate(nextProp, nextState) {\n    console.log('nextState = ', nextState);\n\n    if (nextState.isFormValid === true) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  async componentDidUpdate() {\n    console.log(\"iniside componentDiduPDATE\");\n\n    if (this.state.isFormValid === true) {\n      console.log(\"dispatching\");\n      await this.props.dispatch(addLoan(this.state.pLoan, \"\"));\n      this.props.history.push('/profile');\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-fluid\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"form-group container\",\n        onSubmit: this.submitHandler,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"companyName\",\n          children: \" Company Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"companyName\",\n          ref: input => {\n            this.companyName = input;\n          },\n          className: \"form-control\",\n          type: \"text\",\n          minLength: \"2\",\n          placeholder: \"Enter Your Company Name\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"totalExp\",\n          children: \" Total Experience\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"totalExp\",\n          ref: input => {\n            this.totalExp = input;\n          },\n          className: \"form-control\",\n          type: \"number\",\n          min: \"1\",\n          placeholder: \"Total Experience (in yrs)\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"expInCur\",\n          children: \" Experience in Current Organisation\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"expInCur\",\n          ref: input => {\n            this.expInCur = input;\n          },\n          className: \"form-control\",\n          type: \"number\",\n          min: \"1\",\n          placeholder: \"Experience in Current Organisation (in yrs)\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"designation\",\n          children: \" Designation in Current Organisation\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"designation\",\n          ref: input => {\n            this.designation = input;\n          },\n          className: \"form-control\",\n          type: \"text\",\n          minLength: \"2\",\n          placeholder: \"Designation in Current Organisation\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"annualIncome\",\n          children: \"Annual Income\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"annualIncome\",\n          ref: input => {\n            this.annualIncome = input;\n          },\n          className: \"form-control\",\n          type: \"number\",\n          min: \"1000\",\n          placeholder: \"Annual Income\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row justify-content-center\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-2\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              id: \"submitBtn\",\n              className: \"btn btn-primary\",\n              children: \"Submit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    state: state\n  };\n};\n\nexport default connect(mapStateToProps)(PersonalLoan);","map":{"version":3,"sources":["G:/ProjectWork/Cognizant/DeltaLearning/ReactCaseStudyMay2021/bms/src/containers/PersonalLoan.js"],"names":["connect","addLoan","React","Component","PersonalLoan","constructor","submitHandler","e","preventDefault","loan","props","totalExp","value","annualIncome","companyName","designation","expInCur","email","state","users","loggedInUser","accountNo","i","length","console","log","setState","pLoan","isFormValid","shouldComponentUpdate","nextProp","nextState","componentDidUpdate","dispatch","history","push","render","input","mapStateToProps"],"mappings":"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","sourcesContent":["import { connect } from 'react-redux';\r\nimport { addLoan } from '../store/services/userService';\r\n\r\nimport React, { Component } from 'react'\r\n\r\nclass PersonalLoan extends Component {\r\n\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            isFormValid : false,\r\n            pLoan:{}\r\n        }\r\n    }\r\n\r\n    shouldComponentUpdate(nextProp, nextState) {\r\n\r\n        console.log('nextState = ', nextState);\r\n\r\n        if (nextState.isFormValid === true) {\r\n            return true;\r\n        }\r\n\r\n        else {\r\n            return false;\r\n        }\r\n\r\n    }\r\n\r\n    async componentDidUpdate() {\r\n        console.log(\"iniside componentDiduPDATE\");\r\n        if(this.state.isFormValid===true)\r\n        {\r\n            console.log(\"dispatching\");\r\n            await this.props.dispatch(addLoan(this.state.pLoan, \"\"));\r\n            this.props.history.push('/profile');\r\n        }\r\n    }\r\n\r\n    submitHandler = async (e) => {\r\n\r\n        e.preventDefault();\r\n        let loan = this.props.loan;//send by parent component\r\n\r\n        loan.totalExp = this.totalExp.value;\r\n        loan.annualIncome = this.annualIncome.value;\r\n        loan.companyName = this.companyName;\r\n        loan.designation = this.designation;\r\n        loan.expInCur = this.expInCur;\r\n\r\n        loan.email = this.props.state.users.loggedInUser.email;\r\n\r\n        let accountNo;\r\n        for (let i = 0; i < this.props.state.users.users.length; i++) {\r\n            if (this.props.state.users.users[i].email === this.props.state.users.loggedInUser.email) {\r\n                accountNo = this.props.state.users.users[i].accountNo;\r\n                break;\r\n            }\r\n        }\r\n        loan.accountNo = accountNo;\r\n\r\n        console.log('loan := ', loan);\r\n        this.setState({\r\n            ...this.state,\r\n            pLoan:loan,\r\n            isFormValid:true\r\n        });\r\n        //await this.props.dispatch(addLoan(loan, \"\"));\r\n\r\n        //this.props.history.push('/profile');\r\n\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div className=\"container-fluid\">\r\n                <form className=\"form-group container\" onSubmit={this.submitHandler}>\r\n                    <label htmlFor=\"companyName\"> Company Name</label>\r\n                    <input name=\"companyName\"\r\n                        ref={(input) => { this.companyName = input }}\r\n                        className=\"form-control\" type=\"text\"\r\n                        minLength=\"2\" placeholder=\"Enter Your Company Name\" required />\r\n\r\n                    <label htmlFor=\"totalExp\"> Total Experience</label>\r\n                    <input name=\"totalExp\"\r\n                        ref={(input) => { this.totalExp = input }}\r\n                        className=\"form-control\" type=\"number\" min=\"1\"\r\n                        placeholder=\"Total Experience (in yrs)\"\r\n                        required />\r\n\r\n                    <label htmlFor=\"expInCur\"> Experience in Current Organisation</label>\r\n                    <input name=\"expInCur\"\r\n                        ref={(input) => { this.expInCur = input }}\r\n                        className=\"form-control\" type=\"number\" min=\"1\"\r\n                        placeholder=\"Experience in Current Organisation (in yrs)\" required />\r\n\r\n                    <label htmlFor=\"designation\"> Designation in Current Organisation</label>\r\n                    <input name=\"designation\"\r\n                        ref={(input) => { this.designation = input }}\r\n                        className=\"form-control\" type=\"text\" minLength=\"2\"\r\n                        placeholder=\"Designation in Current Organisation\" required />\r\n\r\n                    <br></br>\r\n                    <label htmlFor=\"annualIncome\">Annual Income</label>\r\n                    <input name=\"annualIncome\"\r\n                        ref={(input) => { this.annualIncome = input }}\r\n                        className=\"form-control\" type=\"number\" min=\"1000\" \r\n                        placeholder=\"Annual Income\" required />\r\n\r\n                    <br></br>\r\n                    <div className=\"row justify-content-center\">\r\n                        <div className=\"col-md-2\">\r\n                            <button id=\"submitBtn\" className=\"btn btn-primary\">Submit</button>\r\n                        </div>\r\n                    </div>\r\n                    <br></br>\r\n                    <br></br>\r\n                </form>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        state: state\r\n    }\r\n}\r\nexport default connect(mapStateToProps)(PersonalLoan);\r\n"]},"metadata":{},"sourceType":"module"}