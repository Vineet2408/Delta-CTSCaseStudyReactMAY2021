{"ast":null,"code":"import { GET_USER_BY_ID, GET_ALL_USER, EDIT_USER, ADD_USER, LOGIN_USER } from '../actions/userActions';\nimport axios from 'axios';\nconst API_URL = 'http://localhost:3000'; // adding new user\n\nexport const registerUser = data => {\n  console.log(data);\n  return dispatch => {\n    return axios.post(API_URL + \"/register\", data).then(response => {\n      console.log('user added');\n      dispatch({\n        type: ADD_USER,\n        payload: response.data\n      });\n    }).catch(err => {\n      console.log(err);\n    }); //call api to add data\n  };\n};\nexport const getAllUser = token => {\n  return dispatch => {\n    return axios.get(API_URL + \"/users\", {\n      headers: {\n        Authorization: 'Bearer ' + token\n      }\n    }).then(response => {\n      console.log('resposne.data :=', response.data);\n      dispatch({\n        type: GET_ALL_USER,\n        payload: response.data\n      });\n    });\n  };\n}; //Receive user by giving user Id\n\nexport const getUserById = userId => {\n  console.log('inside getUserById , userId= ', userId);\n  return dispatch => {\n    return axios.get(API_URL + \"/\" + userId).then(response => {\n      console.log(response);\n      dispatch({\n        type: GET_USER_BY_ID,\n        payload: response.data\n      });\n    }).catch(err => {\n      console.log(err);\n    }).finally(() => {\n      console.log(\"Get user by id is over\");\n    });\n  };\n};\nexport const loginUser = cred => {\n  console.log(cred);\n  return dispatch => {\n    return axios.post(API_URL + \"/login\", cred).then(response => {\n      console.log(response);\n      console.log(response.data.accessToken);\n      dispatch({\n        type: LOGIN_USER,\n        token: response.data.accessToken,\n        loggedInUser: cred\n      });\n    }).catch(err => {\n      console.log(err);\n    }).finally(() => {\n      console.log(\"Login user is over\");\n    });\n  };\n};\nexport const addLoan = loan => {\n  console.log('addlOAN = ', loan);\n  return dispatch => {\n    return axios.post(API_URL + '/loans', loan);\n  };\n};","map":{"version":3,"sources":["G:/ProjectWork/Cognizant/DeltaLearning/ReactCaseStudyMay2021/bms/src/store/services/userService.js"],"names":["GET_USER_BY_ID","GET_ALL_USER","EDIT_USER","ADD_USER","LOGIN_USER","axios","API_URL","registerUser","data","console","log","dispatch","post","then","response","type","payload","catch","err","getAllUser","token","get","headers","Authorization","getUserById","userId","finally","loginUser","cred","accessToken","loggedInUser","addLoan","loan"],"mappings":"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","sourcesContent":["import {GET_USER_BY_ID,GET_ALL_USER,EDIT_USER,ADD_USER,LOGIN_USER} from '../actions/userActions';\r\nimport axios from 'axios';\r\n\r\nconst API_URL = 'http://localhost:3000'\r\n\r\n// adding new user\r\nexport const registerUser=(data)=>{\r\n    console.log(data);\r\n    return (dispatch)=>{\r\n\r\n        return axios.post(API_URL+\"/register\",data)\r\n        .then(response=>{\r\n            console.log('user added');\r\n            dispatch({\r\n                type:ADD_USER,\r\n                payload:response.data\r\n            })\r\n        })\r\n        .catch(err=>{console.log(err)})\r\n        //call api to add data\r\n    }\r\n}\r\nexport const getAllUser = (token)=>{\r\n    return (dispatch)=>{\r\n        return axios.get(API_URL+\"/users\",{headers:{\r\n            Authorization:'Bearer '+ token\r\n        }})\r\n        .then(response=>{\r\n            console.log('resposne.data :=',response.data);\r\n            dispatch({\r\n                type:GET_ALL_USER,\r\n                payload:response.data\r\n            })\r\n        })\r\n    }\r\n}\r\n\r\n//Receive user by giving user Id\r\n\r\nexport const getUserById=(userId)=>\r\n{\r\n    console.log('inside getUserById , userId= ',userId)\r\n    return (dispatch)=>{\r\n        return axios.get(API_URL+\"/\"+userId)\r\n        .then((response)=>{\r\n            console.log(response);\r\n            dispatch({\r\n                type:GET_USER_BY_ID,\r\n                payload:response.data\r\n            })\r\n        })\r\n        .catch(err=>{console.log(err)})\r\n        .finally(()=>{console.log(\"Get user by id is over\")})\r\n\r\n    }\r\n}\r\n\r\nexport const loginUser = (cred)=>{\r\n    console.log(cred);\r\n    return (dispatch)=>{\r\n        return axios.post(API_URL+\"/login\",cred)\r\n        .then(response=>{\r\n            console.log(response);\r\n            console.log(response.data.accessToken);\r\n            dispatch({\r\n                type:LOGIN_USER,\r\n                token:response.data.accessToken,\r\n                loggedInUser:cred\r\n            })\r\n        })\r\n        .catch(err=>{console.log(err)})\r\n        .finally(()=>{console.log(\"Login user is over\")})\r\n\r\n    }\r\n}\r\n\r\nexport const addLoan= (loan)=>{\r\n    console.log('addlOAN = ',loan);\r\n    return (dispatch)=>{\r\n        return axios.post(API_URL+'/loans',loan)\r\n    }\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}