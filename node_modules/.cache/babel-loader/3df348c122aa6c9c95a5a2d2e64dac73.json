{"ast":null,"code":"import { GET_USER_BY_ID, GET_ALL_USER, EDIT_USER, ADD_USER, LOGIN_USER } from '../actions/userActions';\nimport axios from 'axios';\nconst API_URL = 'http://localhost:3000'; // adding new user\n\nexport const registerUser = data => {\n  console.log(data);\n  return dispatch => {\n    return axios.post(API_URL + \"/register\", data).then(response => {\n      console.log('user added');\n      dispatch({\n        type: ADD_USER,\n        payload: response.data\n      });\n    }).catch(err => {\n      console.log(err);\n    }); //call api to add data\n  };\n};\nexport const getAllUser = token => {\n  return dispatch => {\n    return axios.get(API_URL + \"/users\", {\n      headers: {}\n    });\n  };\n}; //Receive user by giving user Id\n\nexport const getUserById = userId => {\n  console.log('inside getUserById , userId= ', userId);\n  return dispatch => {\n    return axios.get(API_URL + \"/\" + userId).then(response => {\n      console.log(response);\n      dispatch({\n        type: GET_USER_BY_ID,\n        payload: response.data\n      });\n    }).catch(err => {\n      console.log(err);\n    }).finally(() => {\n      console.log(\"Get user by id is over\");\n    });\n  };\n};\nexport const loginUser = cred => {\n  console.log(cred);\n  return dispatch => {\n    return axios.post(API_URL + \"/login\", cred).then(response => {\n      console.log(response);\n      console.log(response.data.accessToken);\n      dispatch({\n        type: LOGIN_USER,\n        token: response.data.accessToken\n      });\n    }).catch(err => {\n      console.log(err);\n    }).finally(() => {\n      console.log(\"Login user is over\");\n    });\n  };\n};","map":{"version":3,"sources":["G:/ProjectWork/Cognizant/DeltaLearning/ReactCaseStudyMay2021/bms/src/store/services/userService.js"],"names":["GET_USER_BY_ID","GET_ALL_USER","EDIT_USER","ADD_USER","LOGIN_USER","axios","API_URL","registerUser","data","console","log","dispatch","post","then","response","type","payload","catch","err","getAllUser","token","get","headers","getUserById","userId","finally","loginUser","cred","accessToken"],"mappings":"AAAA,SAAQA,cAAR,EAAuBC,YAAvB,EAAoCC,SAApC,EAA8CC,QAA9C,EAAuDC,UAAvD,QAAwE,wBAAxE;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,MAAMC,OAAO,GAAG,uBAAhB,C,CAEA;;AACA,OAAO,MAAMC,YAAY,GAAEC,IAAD,IAAQ;AAC9BC,EAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACA,SAAQG,QAAD,IAAY;AAEf,WAAON,KAAK,CAACO,IAAN,CAAWN,OAAO,GAAC,WAAnB,EAA+BE,IAA/B,EACNK,IADM,CACDC,QAAQ,IAAE;AACZL,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACAC,MAAAA,QAAQ,CAAC;AACLI,QAAAA,IAAI,EAACZ,QADA;AAELa,QAAAA,OAAO,EAACF,QAAQ,CAACN;AAFZ,OAAD,CAAR;AAIH,KAPM,EAQNS,KARM,CAQAC,GAAG,IAAE;AAACT,MAAAA,OAAO,CAACC,GAAR,CAAYQ,GAAZ;AAAiB,KARvB,CAAP,CAFe,CAWf;AACH,GAZD;AAaH,CAfM;AAgBP,OAAO,MAAMC,UAAU,GAAIC,KAAD,IAAS;AAC/B,SAAQT,QAAD,IAAY;AACf,WAAON,KAAK,CAACgB,GAAN,CAAUf,OAAO,GAAC,QAAlB,EAA2B;AAACgB,MAAAA,OAAO,EAAC;AAAT,KAA3B,CAAP;AACH,GAFD;AAGH,CAJM,C,CAMP;;AAEA,OAAO,MAAMC,WAAW,GAAEC,MAAD,IACzB;AACIf,EAAAA,OAAO,CAACC,GAAR,CAAY,+BAAZ,EAA4Cc,MAA5C;AACA,SAAQb,QAAD,IAAY;AACf,WAAON,KAAK,CAACgB,GAAN,CAAUf,OAAO,GAAC,GAAR,GAAYkB,MAAtB,EACNX,IADM,CACAC,QAAD,IAAY;AACdL,MAAAA,OAAO,CAACC,GAAR,CAAYI,QAAZ;AACAH,MAAAA,QAAQ,CAAC;AACLI,QAAAA,IAAI,EAACf,cADA;AAELgB,QAAAA,OAAO,EAACF,QAAQ,CAACN;AAFZ,OAAD,CAAR;AAIH,KAPM,EAQNS,KARM,CAQAC,GAAG,IAAE;AAACT,MAAAA,OAAO,CAACC,GAAR,CAAYQ,GAAZ;AAAiB,KARvB,EASNO,OATM,CASE,MAAI;AAAChB,MAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ;AAAsC,KAT7C,CAAP;AAWH,GAZD;AAaH,CAhBM;AAkBP,OAAO,MAAMgB,SAAS,GAAIC,IAAD,IAAQ;AAC7BlB,EAAAA,OAAO,CAACC,GAAR,CAAYiB,IAAZ;AACA,SAAQhB,QAAD,IAAY;AACf,WAAON,KAAK,CAACO,IAAN,CAAWN,OAAO,GAAC,QAAnB,EAA4BqB,IAA5B,EACNd,IADM,CACDC,QAAQ,IAAE;AACZL,MAAAA,OAAO,CAACC,GAAR,CAAYI,QAAZ;AACAL,MAAAA,OAAO,CAACC,GAAR,CAAYI,QAAQ,CAACN,IAAT,CAAcoB,WAA1B;AACAjB,MAAAA,QAAQ,CAAC;AACLI,QAAAA,IAAI,EAACX,UADA;AAELgB,QAAAA,KAAK,EAACN,QAAQ,CAACN,IAAT,CAAcoB;AAFf,OAAD,CAAR;AAIH,KARM,EASNX,KATM,CASAC,GAAG,IAAE;AAACT,MAAAA,OAAO,CAACC,GAAR,CAAYQ,GAAZ;AAAiB,KATvB,EAUNO,OAVM,CAUE,MAAI;AAAChB,MAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ;AAAkC,KAVzC,CAAP;AAYH,GAbD;AAcH,CAhBM","sourcesContent":["import {GET_USER_BY_ID,GET_ALL_USER,EDIT_USER,ADD_USER,LOGIN_USER} from '../actions/userActions';\r\nimport axios from 'axios';\r\n\r\nconst API_URL = 'http://localhost:3000'\r\n\r\n// adding new user\r\nexport const registerUser=(data)=>{\r\n    console.log(data);\r\n    return (dispatch)=>{\r\n\r\n        return axios.post(API_URL+\"/register\",data)\r\n        .then(response=>{\r\n            console.log('user added');\r\n            dispatch({\r\n                type:ADD_USER,\r\n                payload:response.data\r\n            })\r\n        })\r\n        .catch(err=>{console.log(err)})\r\n        //call api to add data\r\n    }\r\n}\r\nexport const getAllUser = (token)=>{\r\n    return (dispatch)=>{\r\n        return axios.get(API_URL+\"/users\",{headers:{}})\r\n    }\r\n}\r\n\r\n//Receive user by giving user Id\r\n\r\nexport const getUserById=(userId)=>\r\n{\r\n    console.log('inside getUserById , userId= ',userId)\r\n    return (dispatch)=>{\r\n        return axios.get(API_URL+\"/\"+userId)\r\n        .then((response)=>{\r\n            console.log(response);\r\n            dispatch({\r\n                type:GET_USER_BY_ID,\r\n                payload:response.data\r\n            })\r\n        })\r\n        .catch(err=>{console.log(err)})\r\n        .finally(()=>{console.log(\"Get user by id is over\")})\r\n\r\n    }\r\n}\r\n\r\nexport const loginUser = (cred)=>{\r\n    console.log(cred);\r\n    return (dispatch)=>{\r\n        return axios.post(API_URL+\"/login\",cred)\r\n        .then(response=>{\r\n            console.log(response);\r\n            console.log(response.data.accessToken);\r\n            dispatch({\r\n                type:LOGIN_USER,\r\n                token:response.data.accessToken\r\n            })\r\n        })\r\n        .catch(err=>{console.log(err)})\r\n        .finally(()=>{console.log(\"Login user is over\")})\r\n\r\n    }\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}