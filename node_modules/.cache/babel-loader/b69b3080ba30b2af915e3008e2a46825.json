{"ast":null,"code":"import { GET_USER_BY_ID, GET_ALL_USER, EDIT_USER, ADD_USER, LOGIN_USER, ADD_LOAN, GET_ALL_LOANS, LOGOUT_USER } from '../actions/userActions';\nimport axios from 'axios';\nconst API_URL = 'http://localhost:3000'; // adding new user\n\nexport const registerUser = data => {\n  console.log(data);\n  return dispatch => {\n    return axios.post(API_URL + \"/register\", data).then(response => {\n      console.log('user added');\n      dispatch({\n        type: ADD_USER,\n        payload: response.data\n      });\n    }).catch(err => {\n      console.log(err);\n    }); //call api to add data\n  };\n};\nexport const getAllUser = token => {\n  return dispatch => {\n    return axios.get(API_URL + \"/users\", {\n      headers: {\n        Authorization: 'Bearer ' + token\n      }\n    }).then(response => {\n      console.log('resposne.data :=', response.data);\n      dispatch({\n        type: GET_ALL_USER,\n        payload: response.data\n      });\n    });\n  };\n}; //Receive user by giving user Id\n\nexport const getUserById = userId => {\n  console.log('inside getUserById , userId= ', userId);\n  return dispatch => {\n    return axios.get(API_URL + \"/\" + userId).then(response => {\n      console.log(response);\n      dispatch({\n        type: GET_USER_BY_ID,\n        payload: response.data\n      });\n    }).catch(err => {\n      console.log(err);\n    }).finally(() => {\n      console.log(\"Get user by id is over\");\n    });\n  };\n};\nexport const loginUser = cred => {\n  console.log(cred);\n  return dispatch => {\n    return axios.post(API_URL + \"/login\", cred).then(response => {\n      console.log(response);\n      console.log(response.data.accessToken);\n      dispatch({\n        type: LOGIN_USER,\n        token: response.data.accessToken,\n        loggedInUser: cred\n      });\n    }).catch(err => {\n      console.log(err);\n    }).finally(() => {\n      console.log(\"Login user is over\");\n    });\n  };\n};\nexport const updateUser = (data, userId, token) => {\n  console.log(data);\n  return dispatch => {\n    return axios.put(API_URL + \"/users/\" + userId, data, {\n      headers: {\n        Authorization: 'Bearer ' + token\n      }\n    }).then(response => {\n      console.log('user added');\n      dispatch({\n        type: EDIT_USER,\n        payload: response.data\n      });\n    }).catch(err => {\n      console.log(err);\n    }); //call api to add data\n  };\n};\nexport const addLoan = (loan, token) => {\n  console.log('addlOAN = ', loan);\n  return dispatch => {\n    return axios.post(API_URL + '/loans', loan, {\n      headers: {\n        Authorization: 'Bearer ' + token\n      }\n    }).then(response => {\n      dispatch({\n        type: ADD_LOAN,\n        payload: response.data\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n};\nexport const getAllLoan = token => {\n  return dispatch => {\n    return axios.get(API_URL + '/loans', {\n      headers: {\n        Authorization: 'Bearer ' + token\n      }\n    }).then(response => {\n      dispatch({\n        type: GET_ALL_LOANS,\n        payload: response.data\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n};\nexport const userLogout = () => {\n  console.log('inside logout');\n  return dispatch => {\n    return axios.get(API_URL + \"/users\", {\n      headers: {\n        Authorization: 'Bearer ' + token\n      }\n    }).then(response => {\n      console.log('resposne.data :=', response.data);\n      dispatch({\n        type: LOGOUT_USER\n      });\n    });\n  };\n};","map":{"version":3,"sources":["G:/ProjectWork/Cognizant/DeltaLearning/ReactCaseStudyMay2021/bms/src/store/services/userService.js"],"names":["GET_USER_BY_ID","GET_ALL_USER","EDIT_USER","ADD_USER","LOGIN_USER","ADD_LOAN","GET_ALL_LOANS","LOGOUT_USER","axios","API_URL","registerUser","data","console","log","dispatch","post","then","response","type","payload","catch","err","getAllUser","token","get","headers","Authorization","getUserById","userId","finally","loginUser","cred","accessToken","loggedInUser","updateUser","put","addLoan","loan","getAllLoan","userLogout"],"mappings":"AAAA,SAASA,cAAT,EAAyBC,YAAzB,EAAuCC,SAAvC,EAAkDC,QAAlD,EAA4DC,UAA5D,EAAwEC,QAAxE,EAAkFC,aAAlF,EAAiGC,WAAjG,QAAoH,wBAApH;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,MAAMC,OAAO,GAAG,uBAAhB,C,CAEA;;AACA,OAAO,MAAMC,YAAY,GAAIC,IAAD,IAAU;AAClCC,EAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACA,SAAQG,QAAD,IAAc;AAEjB,WAAON,KAAK,CAACO,IAAN,CAAWN,OAAO,GAAG,WAArB,EAAkCE,IAAlC,EACFK,IADE,CACGC,QAAQ,IAAI;AACdL,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACAC,MAAAA,QAAQ,CAAC;AACLI,QAAAA,IAAI,EAAEf,QADD;AAELgB,QAAAA,OAAO,EAAEF,QAAQ,CAACN;AAFb,OAAD,CAAR;AAIH,KAPE,EAQFS,KARE,CAQIC,GAAG,IAAI;AAAET,MAAAA,OAAO,CAACC,GAAR,CAAYQ,GAAZ;AAAkB,KAR/B,CAAP,CAFiB,CAWjB;AACH,GAZD;AAaH,CAfM;AAgBP,OAAO,MAAMC,UAAU,GAAIC,KAAD,IAAW;AACjC,SAAQT,QAAD,IAAc;AACjB,WAAON,KAAK,CAACgB,GAAN,CAAUf,OAAO,GAAG,QAApB,EAA8B;AACjCgB,MAAAA,OAAO,EAAE;AACLC,QAAAA,aAAa,EAAE,YAAYH;AADtB;AADwB,KAA9B,EAKFP,IALE,CAKGC,QAAQ,IAAI;AACdL,MAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCI,QAAQ,CAACN,IAAzC;AACAG,MAAAA,QAAQ,CAAC;AACLI,QAAAA,IAAI,EAAEjB,YADD;AAELkB,QAAAA,OAAO,EAAEF,QAAQ,CAACN;AAFb,OAAD,CAAR;AAIH,KAXE,CAAP;AAYH,GAbD;AAcH,CAfM,C,CAiBP;;AAEA,OAAO,MAAMgB,WAAW,GAAIC,MAAD,IAAY;AACnChB,EAAAA,OAAO,CAACC,GAAR,CAAY,+BAAZ,EAA6Ce,MAA7C;AACA,SAAQd,QAAD,IAAc;AACjB,WAAON,KAAK,CAACgB,GAAN,CAAUf,OAAO,GAAG,GAAV,GAAgBmB,MAA1B,EACFZ,IADE,CACIC,QAAD,IAAc;AAChBL,MAAAA,OAAO,CAACC,GAAR,CAAYI,QAAZ;AACAH,MAAAA,QAAQ,CAAC;AACLI,QAAAA,IAAI,EAAElB,cADD;AAELmB,QAAAA,OAAO,EAAEF,QAAQ,CAACN;AAFb,OAAD,CAAR;AAIH,KAPE,EAQFS,KARE,CAQIC,GAAG,IAAI;AAAET,MAAAA,OAAO,CAACC,GAAR,CAAYQ,GAAZ;AAAkB,KAR/B,EASFQ,OATE,CASM,MAAM;AAAEjB,MAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ;AAAuC,KATrD,CAAP;AAWH,GAZD;AAaH,CAfM;AAiBP,OAAO,MAAMiB,SAAS,GAAIC,IAAD,IAAU;AAC/BnB,EAAAA,OAAO,CAACC,GAAR,CAAYkB,IAAZ;AACA,SAAQjB,QAAD,IAAc;AACjB,WAAON,KAAK,CAACO,IAAN,CAAWN,OAAO,GAAG,QAArB,EAA+BsB,IAA/B,EACFf,IADE,CACGC,QAAQ,IAAI;AACdL,MAAAA,OAAO,CAACC,GAAR,CAAYI,QAAZ;AACAL,MAAAA,OAAO,CAACC,GAAR,CAAYI,QAAQ,CAACN,IAAT,CAAcqB,WAA1B;AACAlB,MAAAA,QAAQ,CAAC;AACLI,QAAAA,IAAI,EAAEd,UADD;AAELmB,QAAAA,KAAK,EAAEN,QAAQ,CAACN,IAAT,CAAcqB,WAFhB;AAGLC,QAAAA,YAAY,EAAEF;AAHT,OAAD,CAAR;AAKH,KATE,EAUFX,KAVE,CAUIC,GAAG,IAAI;AAAET,MAAAA,OAAO,CAACC,GAAR,CAAYQ,GAAZ;AAAkB,KAV/B,EAWFQ,OAXE,CAWM,MAAM;AAAEjB,MAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ;AAAmC,KAXjD,CAAP;AAaH,GAdD;AAeH,CAjBM;AAmBP,OAAO,MAAMqB,UAAU,GAAG,CAACvB,IAAD,EAAOiB,MAAP,EAAeL,KAAf,KAAyB;AAC/CX,EAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACA,SAAQG,QAAD,IAAc;AAEjB,WAAON,KAAK,CAAC2B,GAAN,CAAU1B,OAAO,GAAG,SAAV,GAAsBmB,MAAhC,EAAwCjB,IAAxC,EAA8C;AACjDc,MAAAA,OAAO,EAAE;AACLC,QAAAA,aAAa,EAAE,YAAYH;AADtB;AADwC,KAA9C,EAKFP,IALE,CAKGC,QAAQ,IAAI;AACdL,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACAC,MAAAA,QAAQ,CAAC;AACLI,QAAAA,IAAI,EAAEhB,SADD;AAELiB,QAAAA,OAAO,EAAEF,QAAQ,CAACN;AAFb,OAAD,CAAR;AAIH,KAXE,EAYFS,KAZE,CAYIC,GAAG,IAAI;AAAET,MAAAA,OAAO,CAACC,GAAR,CAAYQ,GAAZ;AAAkB,KAZ/B,CAAP,CAFiB,CAejB;AACH,GAhBD;AAiBH,CAnBM;AAqBP,OAAO,MAAMe,OAAO,GAAG,CAACC,IAAD,EAAOd,KAAP,KAAiB;AACpCX,EAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BwB,IAA1B;AACA,SAAQvB,QAAD,IAAc;AACjB,WAAON,KAAK,CAACO,IAAN,CAAWN,OAAO,GAAG,QAArB,EAA+B4B,IAA/B,EAAqC;AACxCZ,MAAAA,OAAO,EAAE;AACLC,QAAAA,aAAa,EAAE,YAAYH;AADtB;AAD+B,KAArC,EAKFP,IALE,CAKGC,QAAQ,IAAI;AACdH,MAAAA,QAAQ,CAAC;AACLI,QAAAA,IAAI,EAAEb,QADD;AAELc,QAAAA,OAAO,EAAEF,QAAQ,CAACN;AAFb,OAAD,CAAR;AAIH,KAVE,EAWFS,KAXE,CAWIC,GAAG,IAAI;AAAET,MAAAA,OAAO,CAACC,GAAR,CAAYQ,GAAZ;AAAkB,KAX/B,CAAP;AAYH,GAbD;AAcH,CAhBM;AAkBP,OAAO,MAAMiB,UAAU,GAAIf,KAAD,IAAW;AACjC,SAAQT,QAAD,IAAc;AACjB,WAAON,KAAK,CAACgB,GAAN,CAAUf,OAAO,GAAG,QAApB,EAA8B;AACjCgB,MAAAA,OAAO,EAAE;AACLC,QAAAA,aAAa,EAAE,YAAYH;AADtB;AADwB,KAA9B,EAKFP,IALE,CAKGC,QAAQ,IAAI;AACdH,MAAAA,QAAQ,CAAC;AACLI,QAAAA,IAAI,EAAEZ,aADD;AAELa,QAAAA,OAAO,EAAEF,QAAQ,CAACN;AAFb,OAAD,CAAR;AAIH,KAVE,EAWFS,KAXE,CAWIC,GAAG,IAAI;AAAET,MAAAA,OAAO,CAACC,GAAR,CAAYQ,GAAZ;AAAkB,KAX/B,CAAP;AAYH,GAbD;AAcH,CAfM;AAkBP,OAAO,MAAMkB,UAAU,GAAG,MAAM;AAC5B3B,EAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACA,SAAQC,QAAD,IAAc;AACjB,WAAON,KAAK,CAACgB,GAAN,CAAUf,OAAO,GAAG,QAApB,EAA8B;AACjCgB,MAAAA,OAAO,EAAE;AACLC,QAAAA,aAAa,EAAE,YAAYH;AADtB;AADwB,KAA9B,EAKFP,IALE,CAKGC,QAAQ,IAAI;AACdL,MAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCI,QAAQ,CAACN,IAAzC;AACAG,MAAAA,QAAQ,CAAC;AACLI,QAAAA,IAAI,EAAEX;AADD,OAAD,CAAR;AAGH,KAVE,CAAP;AAWH,GAZD;AAaH,CAfM","sourcesContent":["import { GET_USER_BY_ID, GET_ALL_USER, EDIT_USER, ADD_USER, LOGIN_USER, ADD_LOAN, GET_ALL_LOANS, LOGOUT_USER } from '../actions/userActions';\r\nimport axios from 'axios';\r\n\r\nconst API_URL = 'http://localhost:3000'\r\n\r\n// adding new user\r\nexport const registerUser = (data) => {\r\n    console.log(data);\r\n    return (dispatch) => {\r\n\r\n        return axios.post(API_URL + \"/register\", data)\r\n            .then(response => {\r\n                console.log('user added');\r\n                dispatch({\r\n                    type: ADD_USER,\r\n                    payload: response.data\r\n                })\r\n            })\r\n            .catch(err => { console.log(err) })\r\n        //call api to add data\r\n    }\r\n}\r\nexport const getAllUser = (token) => {\r\n    return (dispatch) => {\r\n        return axios.get(API_URL + \"/users\", {\r\n            headers: {\r\n                Authorization: 'Bearer ' + token\r\n            }\r\n        })\r\n            .then(response => {\r\n                console.log('resposne.data :=', response.data);\r\n                dispatch({\r\n                    type: GET_ALL_USER,\r\n                    payload: response.data\r\n                })\r\n            })\r\n    }\r\n}\r\n\r\n//Receive user by giving user Id\r\n\r\nexport const getUserById = (userId) => {\r\n    console.log('inside getUserById , userId= ', userId)\r\n    return (dispatch) => {\r\n        return axios.get(API_URL + \"/\" + userId)\r\n            .then((response) => {\r\n                console.log(response);\r\n                dispatch({\r\n                    type: GET_USER_BY_ID,\r\n                    payload: response.data\r\n                })\r\n            })\r\n            .catch(err => { console.log(err) })\r\n            .finally(() => { console.log(\"Get user by id is over\") })\r\n\r\n    }\r\n}\r\n\r\nexport const loginUser = (cred) => {\r\n    console.log(cred);\r\n    return (dispatch) => {\r\n        return axios.post(API_URL + \"/login\", cred)\r\n            .then(response => {\r\n                console.log(response);\r\n                console.log(response.data.accessToken);\r\n                dispatch({\r\n                    type: LOGIN_USER,\r\n                    token: response.data.accessToken,\r\n                    loggedInUser: cred\r\n                })\r\n            })\r\n            .catch(err => { console.log(err) })\r\n            .finally(() => { console.log(\"Login user is over\") })\r\n\r\n    }\r\n}\r\n\r\nexport const updateUser = (data, userId, token) => {\r\n    console.log(data);\r\n    return (dispatch) => {\r\n\r\n        return axios.put(API_URL + \"/users/\" + userId, data, {\r\n            headers: {\r\n                Authorization: 'Bearer ' + token\r\n            }\r\n        })\r\n            .then(response => {\r\n                console.log('user added');\r\n                dispatch({\r\n                    type: EDIT_USER,\r\n                    payload: response.data\r\n                })\r\n            })\r\n            .catch(err => { console.log(err) })\r\n        //call api to add data\r\n    }\r\n}\r\n\r\nexport const addLoan = (loan, token) => {\r\n    console.log('addlOAN = ', loan);\r\n    return (dispatch) => {\r\n        return axios.post(API_URL + '/loans', loan, {\r\n            headers: {\r\n                Authorization: 'Bearer ' + token\r\n            }\r\n        })\r\n            .then(response => {\r\n                dispatch({\r\n                    type: ADD_LOAN,\r\n                    payload: response.data\r\n                })\r\n            })\r\n            .catch(err => { console.log(err) })\r\n    }\r\n}\r\n\r\nexport const getAllLoan = (token) => {\r\n    return (dispatch) => {\r\n        return axios.get(API_URL + '/loans', {\r\n            headers: {\r\n                Authorization: 'Bearer ' + token\r\n            }\r\n        })\r\n            .then(response => {\r\n                dispatch({\r\n                    type: GET_ALL_LOANS,\r\n                    payload: response.data\r\n                })\r\n            })\r\n            .catch(err => { console.log(err) })\r\n    }\r\n}\r\n\r\n\r\nexport const userLogout = () => {\r\n    console.log('inside logout');\r\n    return (dispatch) => {\r\n        return axios.get(API_URL + \"/users\", {\r\n            headers: {\r\n                Authorization: 'Bearer ' + token\r\n            }\r\n        })\r\n            .then(response => {\r\n                console.log('resposne.data :=', response.data);\r\n                dispatch({\r\n                    type: LOGOUT_USER\r\n                })\r\n            })\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}